WHEN: 27/05/2023
Links:
https://update.angular.io/?l=2&v=14.0-15.0
https://angular.io/guide/versions

Node:
	* (using)NPM V18.10.0					- (cmd)nvm list >> V18.10.0 or higher is latest node version required for V15x Angular,  alt is V16.13.0 or higher within V16.x tier also supported (see guide link for more info)
	* previously using with V14 Angular : V16.10.0


Run Test:
	cmd: npm start					- works, compiles & loads angular engine and site without issue.
	MetaveseMax > IIS Express run	- details in angular.docx
	npm i typescript@4.9.4			- required for angular V15
	npm i @angular/cli@15.2.8 -g	- as new version of node installed, need the basic ng cli within the GLOBAL NPM store - needed update angular to V15 on local project

Reading:
	Typescript 4.6 changes https://devblogs.microsoft.com/typescript/announcing-typescript-4-6/

Apply To: CMD > CD D:\0_Development\2_Applications\GitHub\MetaverseMax\MetaverseMax\ClientApp


Main Run (note check prerequisites within angular guide first && select 'I use Angular Material'):
	Commit files to Git
	Angular upgrade 14.2.11 to 15.2.9,  + Materials + medium complexity
	ng update @angular/core@15 @angular/cli@15
	ng update @angular/material@15


Actions:
	npm i @angular-devkit/build-angular@15.2.8 -force  (as didnt get updated on 15.2.9 core update)
		Showing dependency errors with:
		@ng-bootstrap/ng-bootstrap@13.1.1
		 C:\Users\Peter\AppData\Local\npm-cache\_logs\2023-05-28T01_24_34_170Z-debug-0.log
		 C:\Users\Peter\AppData\Local\npm-cache\eresolve-report.txt
		*** Needed for force install, as ng-bootstrap cant be installed without also throwing error on peer of this package
	
	npm i @ng-bootstrap/ng-bootstrap@14.2.0   (prior version @13.1.1) : https://www.npmjs.com/package/@ng-bootstrap/ng-bootstrap/v/14.2.0
		** Installs fine after forcing build-angular install,  rerun of build-angular install after this and no errors are shown.

	npm i bootstrap@5.2.3 : previous version bootstrap@5.1.3  (recommended for V15.x.x Angular as per https://www.npmjs.com/package/@ng-bootstrap/ng-bootstrap/v/15.0.0?activeTab=readme)

	** RXJS is fine no updated need - using prior verion rxjs@7.5.5	

	npm i @swimlane/ngx-charts@20.3.0 https://www.npmjs.com/package/@swimlane/ngx-charts

	npm i web3@4.0.1



Potential Code change:
> (Potential CSS Impact - as in use) In v15, the Angular compiler prefixes @keyframes in CSS with the component's scope. 
  This means that any TypeScript code that relies on keyframes names no longer works in v15. Update any such instances to: define keyframes programmatically, use global stylesheets, or change the component's view 
  encapsulation. Read further https://angular.io/guide/update-to-version-15#v15-bc-03

> In Angular Material v15
  Many of the components have been refactored to be based on the official Material Design Components for Web (MDC). 
  This change affected the DOM and CSS classes of many components. Read further https://rc.material.angular.io/guide/mdc-migration

> In your application's tsconfig.json file, remove enableIvy. In v15, Ivy is the only rendering engine so enableIvy is not required.


> In Angular version 15, the deprecated `relativeLinkResolution` config parameter of the Router is removed.
  This migration removes all `relativeLinkResolution` fields from the Router config objects.
  Migration completed (No changes made).

> Since Angular v15, the `RouterLink` contains the logic of the `RouterLinkWithHref` directive.
  This migration replaces all `RouterLinkWithHref` references with `RouterLink`.
  Migration completed (No changes made).


✓  Updated Angular Material to version 15

UPDATE src/theme.scss (11614 bytes)
UPDATE src/app/app.module.ts (7336 bytes)
UPDATE src/app/owner-data/owner-data.component.ts (23572 bytes)
UPDATE src/app/district-summary/district-summary.component.ts (11149 bytes)
UPDATE src/app/production-history/prod-history.component.ts (11825 bytes)
UPDATE src/app/building-ip/building-ip.component.ts (16948 bytes)
UPDATE src/app/nav-menu-owner/nav-menu-owner.component.ts (2438 bytes)
UPDATE src/app/offer-modal/offer-modal.component.ts (5289 bytes)
UPDATE src/app/citizen-building-table/citizen-building-table.component.ts (5529 bytes)
UPDATE src/app/citizen-modal/citizen-modal.component.ts (7498 bytes)
UPDATE src/app/pet-modal/pet-modal.component.ts (4077 bytes)
UPDATE src/app/alert-menu/alert-menu.component.ts (3926 bytes)
UPDATE src/app/tax-change/tax-change.component.ts (3998 bytes)
UPDATE src/app/district-list/district-list.component.ts (3504 bytes)
UPDATE src/app/district-notification/district-notification.component.ts (4289 bytes)
UPDATE src/app/search-plot/search-plot.component.ts (606 bytes)



======================================================================================
Bootstrap 5 components in use:
1) navbar  :  Main navigation top toolbar + mobile responsiveness  
2) ngbDropdown : Dropdown lists  >> 
	District List
	Account List
	World List

3) A lot of the base page styles
4) possibly more - to test drop : angular.json > node_modules/bootstrap/dist/css/bootstrap.min.css

MOVING AWAY:
If moving away from bootstrap - Start with ngbDropdown, transition to another Material V3 drop down list
Until then pain points as managing material styles + bootstrap combined.  A lot of extra css to tweak it to work.  
Centralise those tweaks to allow easiler migration and removal on future release.

======================================================================================
Issue:
	On Debug Run of System >> WARNING within CMD used to run Angular complile script >>    
	TypeScript compiler options "target" and "useDefineForClassFields" are set to "ES2022" and "false" respectively by the Angular CLI. To control ECMA version and features use the Browerslist configuration. For more information, see https://angular.io/guide/build#configuring-browser-compatibility
    NOTE: You can set the "target" to "ES2022" in the project's tsconfig to remove this warning.

	CHANGES:
		File: tsconfig.json
		Setting: 
			old >>  "target": "es2020"
			new >>  "target": "es2022"