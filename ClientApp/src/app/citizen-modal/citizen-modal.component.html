

<div class="modalFrame" cdkDrag style="display:inline-table;text-align:left;">

  <a class="closeframe" (click)="setHide()"><i class="far fa-window-close fa-2x" role="button"></i></a>
  <div class="count" *ngIf="citizenList">Cits : <span>{{citizenList.length}}</span></div>

  <div class="topBtnDiv">

    <i class="fas fa-clipboard" style=""></i><button mat-raised-button color="primary" class="copy" (click)="copyData()">Copy All to Clipboard</button>

    <mat-button-toggle-group name="tableView" aria-label="View">
      <mat-button-toggle value="traits" checked="true" (change)="onTableViewChange($event.value)" matTooltip="View Citizen Traits"><span>Traits</span></mat-button-toggle>
      <mat-button-toggle value="efficiency" (change)="onTableViewChange($event.value)" matTooltip="View Citizen Efficiency"><span>Efficiency</span></mat-button-toggle>
    </mat-button-toggle-group>
  </div>

  <div class="table-container">

    <table mat-table [dataSource]="dataSource" matSort class="table-striped mat-elevation-z8" style="display:inline-table">
      <!--table table-striped-->
      <ng-container matColumnDef="token_id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.token_id }} </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
        <td mat-cell *matCellDef="let citizen">
          <img src="https://mcp3d.com/tron/api/image/citizen/{{ citizen.token_id }}" class="ownerImgCol" height="38" />
          <span>{{ citizen.name }}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="generation">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Gen </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.generation}}</td>
      </ng-container>

      <ng-container matColumnDef="sex">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Sex </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.sex}}</td>
      </ng-container>

      <ng-container matColumnDef="breeding">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Breed </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.breeding }}</td>
      </ng-container>

      <ng-container matColumnDef="trait_agility">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Agility </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.trait_agility }}</td>
      </ng-container>

      <ng-container matColumnDef="trait_intelligence">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Intel </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.trait_intelligence }}</td>
      </ng-container>

      <ng-container matColumnDef="trait_charisma">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Charisma </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.trait_charisma }}</td>
      </ng-container>

      <ng-container matColumnDef="trait_endurance">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Endurance </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.trait_endurance }}</td>
      </ng-container>

      <ng-container matColumnDef="trait_luck">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Luck </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.trait_luck }}</td>
      </ng-container>

      <ng-container matColumnDef="trait_strength">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Strength </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.trait_strength }}</td>
      </ng-container>

      <ng-container matColumnDef="trait_avg">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Avg. </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.trait_avg }}</td>
      </ng-container>

      <ng-container matColumnDef="efficiency_industry">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Industry </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.efficiency_industry }}</td>
      </ng-container>

      <ng-container matColumnDef="efficiency_production">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Production </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.efficiency_production }}</td>
      </ng-container>

      <ng-container matColumnDef="efficiency_energy">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Energy </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.efficiency_energy }}</td>
      </ng-container>

      <ng-container matColumnDef="efficiency_office">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Office </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.efficiency_office }}</td>
      </ng-container>

      <ng-container matColumnDef="efficiency_commercial">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Commercial </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.efficiency_commercial }}</td>
      </ng-container>

      <ng-container matColumnDef="efficiency_municipal">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Municipal </th>
        <td mat-cell *matCellDef="let citizen"> {{ citizen.efficiency_municipal }}</td>
      </ng-container>

      <ng-container matColumnDef="building_level">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Building </th>
        <td mat-cell *matCellDef="let citizen">
          <a [hidden]="citizen.pos_x == 0" class="lineAnim" target="_blank" href="https://play.mcp3d.com/tron/land?x={{ citizen.pos_x }}&y={{ citizen.pos_y }}">
            <span matBadge="{{ citizen.building_level }}" matBadgePosition="above before">
              <img src="{{ citizen.building_img }}" height="{{ citizen.building_level == 0 ? 38 : 46 }}" class="industryImg" title="{{ citizen.building_desc }} - #{{ citizen.building }}">
            </span>
          </a>
        </td>
      </ng-container>

      <!-- Header groups -->
      <ng-container matColumnDef="header-row-first-group">
        <th mat-header-cell *matHeaderCellDef [style.text-align]="center" [attr.colspan]="2"></th>
      </ng-container>

      <ng-container matColumnDef="header-row-second-group">
        <th mat-header-cell *matHeaderCellDef [attr.colspan]="10"> {{ tableHeader }}</th>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['header-row-first-group', 'header-row-second-group'];"></tr>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [hidden]="hidePaginator" [pageSize]="10" [hidePageSize] [showFirstLastButtons] class="paginatorContainer"></mat-paginator>

  </div>

</div>
